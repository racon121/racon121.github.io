<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
  <title>Yükleme</title>

  <link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">

  <style>
    :root{
      --bar-width: min(760px, 85vw);
      --bar-height: 56px;
    }

    html,body{
      height:100%;
      margin:0;
      background: url('bg1.png') center center / cover no-repeat fixed;
      font-family: "Lilita One", cursive;
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .loader-wrapper{
      position: fixed;
      left: 50%;
      bottom: 26px;
      transform: translateX(-50%);
      width: var(--bar-width);
      display:flex;
      justify-content:center;
      pointer-events: none;
      z-index: 9999;
    }

    .loader-outer{
      width:100%;
      height: var(--bar-height);
      border-radius: 20px;
      box-sizing: border-box;
      display:flex;
      align-items:center;
      justify-content:center;
      background: #111;
      border: 5px solid black; 
      position: relative;
      overflow: hidden;
      pointer-events: auto;
    }

    .loader-track{
      width: 100%;
      height: 100%;
      background: #222;
      border-radius: 20px;
      position: relative;
      overflow: hidden;
    }

    .loader-fill{
      height:100%;
      width:0%;
      background: linear-gradient(180deg, #007bff, #0056b3);
      border-radius: 20px;
      transition: width 400ms cubic-bezier(.2,.9,.2,1);
      position:relative;
    }

    @keyframes pulseFill {
      0% { transform: translateY(0); }
      50% { transform: translateY(-1px); }
      100% { transform: translateY(0); }
    }
    .loader-fill.animate { animation: pulseFill 1.4s infinite; }

    .percent-bubble{
      position: absolute;
      width: 100%;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      color: white;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
      text-shadow: 1px 1px 2px black;
    }
  </style>
</head>
<body>

  <main style="padding:40px;color:#dfe7ff;text-align:center;">
    <h1 style="margin-top:40px;font-size:32px;">Yükleniyor</h1>
  </main>

  <div class="loader-wrapper">
    <div class="loader-outer" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
      <div class="loader-track">
        <div class="loader-fill" id="loaderFill"></div>
        <div class="percent-bubble" id="percentText">0%</div>
      </div>
    </div>
  </div>

  <script>
    const fill = document.getElementById('loaderFill');
    const percentText = document.getElementById('percentText');
    const outer = document.querySelector('.loader-outer');

    function setProgress(n){
      let v = Number(n) || 0;
      if(v < 0) v = 0;
      if(v > 100) v = 100;
      fill.style.width = v + '%';
      outer.setAttribute('aria-valuenow', String(v));
      percentText.textContent = v + '%';
      if(v > 0 && v < 100) {
        fill.classList.add('animate');
      } else {
        fill.classList.remove('animate');
      }
    }

    (function simulateLoading(){
      let p = 0;
      const interval = setInterval(() => {
        const step = Math.max(1, Math.round( (100 - p) * 0.08 ));
        p += step;
        if(p > 100) p = 100;
        setProgress(p);

        if(p >= 100){
          clearInterval(interval);
          setTimeout(()=> {
            window.location.href = "giris.html";
          }, 500);
        }
      }, 350);
    })();

    window.setProgress = setProgress;
  </script>
</body>
</html>
