<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Profil</title>

<!-- Lilita One fontu -->
<link href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  padding: 0;
  background: url('bg1.png') center center / cover no-repeat fixed;
  font-family: 'Lilita One', cursive;
  text-align: center;
  color: white;
}

/* Sol üst geri butonu */
header {
  position: fixed;
  top: 10px;
  left: 10px;
}
header button {
  font-size: 18px;
  padding: 8px 16px;
  background: #FFD700;
  border: 3px solid #000;
  border-radius: 10px;
  cursor: pointer;
  font-family: 'Lilita One', cursive;
}

/* İçerik */
.container {
  margin-top: 80px;
}
h1 {
  margin-bottom: 20px;
}
.info {
  font-size: 24px;
  margin: 15px 0;
}
button.changeBtn {
  font-size: 18px;
  margin-left: 10px;
  padding: 6px 12px;
  background: #FFD700;
  border: 3px solid #000;
  border-radius: 8px;
  cursor: pointer;
  font-family: 'Lilita One', cursive;
}
</style>
</head>
<body>

<!-- Arka plan müziği -->
<audio id="bgMusic" src="music.mp3" loop autoplay></audio>

<header>
  <button onclick="window.location.href='index.html'">Geri</button>
</header>

<div class="container">
  <h1>Profil Sayfası</h1>
  <p class="info">
    Oyuncu Adı: <span id="playerName"></span>
    <button class="changeBtn" onclick="window.location.href='yeniisim.html'">Değiştir</button>
  </p>
  <p class="info">Oyuncu ID: <span id="playerID"></span></p>
</div>

<script>
// Müzik kontrolü
const bgMusic = document.getElementById("bgMusic");
bgMusic.play().catch(()=>{});

// Oyuncu adı yükle
let playerName = localStorage.getItem("playerName") || "Oyuncu";
document.getElementById("playerName").innerText = playerName;

// Oyuncu ID yönetimi
let playerID = localStorage.getItem("playerID");

// Daha önce ID atanmadıysa yeni rastgele ID oluştur
if (!playerID) {
  // Daha önce verilen ID’leri al (veya boş array)
  let usedIDs = JSON.parse(localStorage.getItem("usedIDs") || "[]");

  // Rastgele benzersiz ID üret
  function generateUniqueID() {
    if (usedIDs.length >= 1000) {
      alert("Tüm ID’ler doldu!");
      return null;
    }
    let id;
    do {
      id = Math.floor(Math.random() * 1000) + 1; // 1-1000 arası
    } while (usedIDs.includes(id));
    return id;
  }

  playerID = generateUniqueID();
  if (playerID !== null) {
    usedIDs.push(playerID);            // ID’yi kaydet
    localStorage.setItem("playerID", playerID);
    localStorage.setItem("usedIDs", JSON.stringify(usedIDs));
  }
}

document.getElementById("playerID").innerText = playerID;
</script>

</body>
</html>
